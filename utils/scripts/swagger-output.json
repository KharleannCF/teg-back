{
  "swagger": "2.0",
  "info": {
    "title": "Tesis API",
    "description": "Description",
    "version": "1.0.0"
  },
  "host": "localhost:5000",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "paths": {
    "/api-docs": {
      "get": {
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          }
        }
      },
      "post": {
        "description": "Upload data including a file",
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "cedula",
            "in": "formData",
            "type": "integer",
            "example": 1234567890
          },
          {
            "name": "nombre",
            "in": "formData",
            "type": "string",
            "example": "Juan"
          },
          {
            "name": "segundo_nombre",
            "in": "formData",
            "type": "string",
            "example": "Carlos"
          },
          {
            "name": "apellido",
            "in": "formData",
            "type": "string",
            "example": "Pérez"
          },
          {
            "name": "segundo_apellido",
            "in": "formData",
            "type": "string",
            "example": "Gómez"
          },
          {
            "name": "correo",
            "in": "formData",
            "type": "string",
            "example": "juan.perez@example.com"
          },
          {
            "name": "clave",
            "in": "formData",
            "type": "string",
            "example": "password123"
          },
          {
            "name": "telefono",
            "in": "formData",
            "type": "integer",
            "example": 987654321
          },
          {
            "name": "f_nac",
            "in": "formData",
            "type": "string",
            "format": "date",
            "example": "1990-01-01"
          },
          {
            "name": "rol",
            "in": "formData",
            "type": "string",
            "example": "docente"
          },
          {
            "name": "habilidades",
            "in": "formData",
            "type": "string",
            "example": "JavaScript, Node.js"
          },
          {
            "name": "tipo",
            "in": "formData",
            "type": "string",
            "example": "docente"
          },
          {
            "name": "titulo",
            "in": "formData",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "f_graduacion": {
                  "type": "string",
                  "format": "date",
                  "example": "2015-06-01"
                },
                "nivel": {
                  "type": "string",
                  "example": "Licenciatura"
                },
                "area": {
                  "type": "string",
                  "example": "Informática"
                },
                "foto": {
                  "type": "string",
                  "example": "titulo.jpg"
                }
              }
            }
          },
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "description": "File to be uploaded"
          }
        ],
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/user/titulos": {
      "post": {
        "summary": "Carga de múltiples títulos para un usuario autenticado",
        "description": "Permite a un usuario autenticado cargar múltiples títulos a la plataforma.",
        "consumes": [
          "multipart/form-data"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "files",
            "in": "formData",
            "description": "Archivos de imágenes de los títulos",
            "required": true,
            "type": "file"
          },
          {
            "name": "fechas",
            "in": "formData",
            "description": "Fechas de graduación, separadas por comas (ej. 2015-06-01,2018-09-15)",
            "required": true,
            "type": "string"
          },
          {
            "name": "areas",
            "in": "formData",
            "description": "Áreas de estudio de los títulos, separadas por comas (ej. Informática,Matemáticas)",
            "required": true,
            "type": "string"
          },
          {
            "name": "nivel",
            "in": "formData",
            "description": "Niveles de los títulos, separados por comas (ej. Licenciatura,Maestría)",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Títulos cargados exitosamente",
            "schema": {
              "type": "string",
              "example": "Titulos cargados exitosamente"
            }
          },
          "400": {
            "description": "Solicitud incorrecta",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Error en los parámetros de entrada"
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Error al cargar los títulos"
                }
              }
            }
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/api/user/dashboard": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/login": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "example": "any"
                },
                "password": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/forgot-password": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "example": "any"
                }
              }
            }
          }],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          }
        }
      }
    },
    "/api/user/cambiar-contraseña": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "token": {
                  "example": "any"
                },
                "nuevaClave": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/api/user/{id}": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          }
        }
      },
      "put": {
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "oldFileName": {
                  "example": "any"
                }
              }
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          }
        }
      },
      "delete": {
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request"
          }
        }
      }
    },
    "/api/empresa/": {
      "post": {
        "description": "Upload data including a file",
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
            {
              "name": "authorization",
              "in": "header",
              "type": "string"
            },
          {
            "name": "rif",
            "in": "formData",
            "type": "integer",
            "example": 1234567890
          },
          {
            "name": "nombre",
            "in": "formData",
            "type": "string",
            "example": "Juan"
          }
        ],
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/proyecto": {
      "get": {
        "parameters":[{
          "name": "authorization",
          "in": "header",
          "type": "string"
        }],
        "description": "Obtiene todos los proyectos.",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Proyecto"
              }
            }
          },
          "400": {
            "description": "Solicitud incorrecta"
          },
          "500": {
            "description": "Error interno del servidor"
          }
        },
        "tags": ["Proyectos"]
      },
      "post": {
        "description": "Crea un nuevo proyecto.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ProyectoInput"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Proyecto creado exitosamente"
          },
          "400": {
            "description": "Solicitud incorrecta"
          },
          "500": {
            "description": "Error interno del servidor"
          }
        },
        "tags": ["Proyectos"]
      }
    },
    "/api/proyecto/{id}": {
      "get": {
        "description": "Obtiene un proyecto por su ID.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Proyecto"
            }
          },
          "400": {
            "description": "Solicitud incorrecta"
          },
          "404": {
            "description": "Proyecto no encontrado"
          },
          "500": {
            "description": "Error interno del servidor"
          }
        },
        "tags": ["Proyectos"]
      },
      "put": {
        "description": "Actualiza un proyecto existente.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ProyectoInput"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Proyecto actualizado exitosamente"
          },
          "400": {
            "description": "Solicitud incorrecta"
          },
          "404": {
            "description": "Proyecto no encontrado"
          },
          "500": {
            "description": "Error interno del servidor"
          }
        },
        "tags": ["Proyectos"]
      },
      "delete": {
        "description": "Elimina un proyecto por su ID.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Solicitud incorrecta"
          },
          "404": {
            "description": "Proyecto no encontrado"
          },
          "500": {
            "description": "Error interno del servidor"
          }
        },
        "tags": ["Proyectos"]
      }
    },
    "/api/proyecto/candidato/{id}": {
      "get": {
        "summary": "Postularse como candidato a un proyecto",
        "description": "Permite a un usuario autenticado postularse como candidato a un proyecto específico.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "description": "ID del proyecto al que el usuario quiere postularse como candidato",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario postulado como candidato exitosamente"
          },
          "400": {
            "description": "El usuario ya está postulado como candidato o hay un error en la solicitud"
          },
          "404": {
            "description": "Proyecto no encontrado"
          },
          "500": {
            "description": "Error interno del servidor"
          }
        },
        "tags": ["Proyectos"]
      },
      "post": {
        "summary": "Cambiar estado de un candidato",
        "description": "Permite al usuario propietario de un proyecto cambiar el estado de un candidato. Si el estado es 'aceptado', el candidato se moverá al arreglo de participantes.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "description": "ID del proyecto",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "Datos del candidato",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "candidatoId": {
                  "type": "string",
                  "description": "ID del candidato"
                },
                "nuevoEstado": {
                  "type": "string",
                  "description": "Nuevo estado del candidato",
                  "enum": ["pendiente", "aceptado", "rechazado"]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Estado del candidato actualizado exitosamente"
          },
          "403": {
            "description": "El usuario no tiene permisos para realizar esta acción"
          },
          "404": {
            "description": "Proyecto o candidato no encontrado"
          },
          "500": {
            "description": "Error interno del servidor"
          }
        },
        "tags": ["Proyectos"]
      }
    }
  },
  "definitions": {
    "Proyecto": {
      "type": "object",
      "properties": {
        "titulo": {
          "type": "string",
          "example": "Nuevo Proyecto"
        },
        "f_publicacion": {
          "type": "string",
          "format": "date",
          "example": "2024-09-01"
        },
        "duracion": {
          "type": "integer",
          "example": 6
        },
        "num_participantes": {
          "type": "integer",
          "example": 10
        },
        "descripcion": {
          "type": "string",
          "example": "Descripción detallada del proyecto."
        },
        "requisitos": {
          "type": "array",
          "example": ["JavaScript", "Node.js"]
        },
        "costo": {
          "type": "number",
          "example": 5000
        },
        "lider": {
          "type": "string",
          "example": "Juan Pérez"
        },
        "imagen": {
          "type": "string",
          "example": "imagen.jpg"
        },
        "estado": {
          "type": "string",
          "enum": ["pendiente", "en progreso", "terminado"],
          "example": "pendiente"
        },
        "user": {
          "type": "string",
          "example": "60d0fe4f5311236168a109ca"
        },
        "participantes": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "60d0fe4f5311236168a109ca"
          }
        },
        "candidatos": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "60d0fe4f5311236168a109ca"
          }
        }
      }
    },
    "ProyectoInput": {
      "type": "object",
      "properties": {
        "titulo": {
          "type": "string"
        },
        "f_publicacion": {
          "type": "string",
          "format": "date"
        },
        "duracion": {
          "type": "integer"
        },
        "num_participantes": {
          "type": "integer"
        },
        "descripcion": {
          "type": "string"
        },
        "requisitos": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "costo": {
          "type": "number"
        },
        "lider": {
          "type": "string"
        },
        "imagen": {
          "type": "string"
        },
        "estado": {
          "type": "string",
          "enum": ["pendiente", "en progreso", "terminado"]
        },
        "user": {
          "type": "string"
        },
        "participantes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "candidatos": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  }
}